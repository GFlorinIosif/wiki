<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<title>EC's Wiki</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"/>
	<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css"/>
	<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
</head>
<body>
	<div class="container">
		<div th:replace="fragments/navbar :: meniu">  </div>
		
		<!-- Left Column -->
	    <div class="w3-col m4">
	    	<div class="w3-container">
	    	
	    	</div>
	    </div><!-- END Left Column -->
	    
	    <!-- Middle Column -->
	    <div class="w3-col m4">
	    	<div class="w3-container w3-card w3-white w3-round w3-margin">
	    		<div class="row">
	    			<form th:action="@{/saveAccountInfo}" method="post" th:object="${session.user}">
						<div class="row" style="padding: 2%;">
							<label class="col-md-4">Nume:</label>
							<div class="col-md-8">
								<input type="text" class="form-control" th:value="${session.user.nume}" id="nume" name="nume"/>
							</div>
						</div>
						<div class="row" style="padding: 2%;">
							<label class="col-md-4">Prenume:</label>
							<div class="col-md-8">
								<input type="text" class="form-control" th:value="${session.user.prenume}" id="prenume" name="prenume"/>
							</div>
						</div>
						<div class="row" style="padding: 2%;">
							<label class="col-md-4">Username:</label>
							<div class="col-md-8">
								<input type="text" readonly="readonly" class="form-control" th:value="${session.user.username}" id="username" name="username"/>
							</div>
						</div>
						<div class="row" style="padding: 2%;">
							<div class="col-md-12">
								<input type="button" style="width:100%" class="btn btn-info" value="Change password" onclick="$('#changePass').toggle()"/>
							</div>
						</div>
						<div style="display: none;" id="changePass">
							<div class="row" style="padding: 2%;">
								<label class="col-md-4">Old pasword:</label>
								<div class="col-md-8">
									<input type="password" class="form-control"  id="oldPassword" name="oldPassword"/>
								</div>
							</div>
							<div class="row" style="padding: 2%;">
								<label class="col-md-4">New password:</label>
								<div class="col-md-8">
									<input type="password" class="form-control" id="newPassword" name="newPassword"/>
								</div>
							</div>
							<div class="row" style="padding: 2%;">
								<label class="col-md-4">Confirm:</label>
								<div class="col-md-8">
									<input type="password" class="form-control"  id="confirmPassword" name="confirmPassword"/>
								</div>
							</div>
						</div>
						<div class="row" style="padding: 2%;">
							<div class="col-md-12">
								<input type="submit" style="width:100%" class="btn btn-success" value="Save"/>
							</div>
						</div>
						<div class="row" style="padding: 2%;">
							<div class="col-md-12">
								<a th:href="@{home}" class="btn btn-danger" style="width: 100%"> Cancel </a>
							</div>
						</div>
					</form>
	    		</div>
	    	</div>
	    	<div class="row">
    			<div class="col-md-12 pull-right" th:if="${ok}">
					<div class="alert alert-success">
					  	<strong>Success!</strong> Salvare efectuata cu success.
					</div>
				</div>
				<div class="col-md-12 pull-right" th:if="${nok}">
					<div class="alert alert-danger">
					  	<strong>Eroare!</strong> A aparut o eroare la salvare.
					</div>
				</div>
				<div class="col-md-12 pull-right" th:if="${wrongPassword}">
					<div class="alert alert-danger">
					  	<strong>Eroare!</strong> Parola introdusa este gresita.
					</div>
				</div>
				<div class="col-md-12 pull-right" th:if="${passwordMissMatch}">
					<div class="alert alert-danger">
					  	<strong>Eroare!</strong> Noua parola nu este confirmata.
					</div>
				</div>
    		</div>
	    </div>
	    
	     <!-- Right Column -->
	    <div class="w3-col m4">
	    
	    </div><!-- END right Column -->

	
	</div>	
<script>
	window.setTimeout(function() {
	    $(".alert").fadeTo(500, 0).slideUp(500, function(){
	        $(this).remove(); 
	    });
	}, 2000);
</script>
</body>
</html>

